<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"  
   "http://ibatis.apache.org/dtd/sql-map-2.dtd"> 
   	
<sqlMap>
	<typeAlias alias="Person" type="com.ibatis.test.domain.Person"/>
		<select id="selectAllPerson" resultClass="Person">
			select * from person
		</select>
		
		<select id="selectPersonById" parameterClass="int" resultClass="Person">
			select * from person where id=#id#
		</select>
		
		<select id="selectPersonByName" parameterClass="String" resultClass="Person">
			select id,name from person where name like '%$name$%'
		</select>
		
		<insert id="addPerson" parameterClass="com.ibatis.test.domain.Person">
			insert into person(id,name,sex) values(#id#, #name#, #sex#)
			<selectKey resultClass="int" keyProperty="id">
				select last_insert_id() as value
			</selectKey>
		</insert>
		
		<delete id="deletePerson" parameterClass="int">
			delete from person where id=#id#
		</delete>
		
		<update id="updatePerson" parameterClass="Person">
			update person set name=#name#, sex=#sex# where id=#id#
		</update>
</sqlMap>